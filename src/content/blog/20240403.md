---
isDraft: false
title: 'React Hook Form & Zod으로 유연하게 폼 관리하기'
tags: ['React', 'React Hook Form', 'zod']
thumbnail:
  {
    src: https://i.pinimg.com/564x/8e/14/fc/8e14fc77f0390e4cc99ce91d8e9a17dc.jpg,
    alt: 썸네일,
  }
createdDate: 2024-04-03
topic: Form UI를 제작하면서 RHF와 Zod를 사용하여 Form을 유연하게 다루는 방법을 소개합니다.
---

## 몰라!

- 이전에 aws 서버 이슈 때문에 환경을 v.16 버전대로 유지시켜놨는데 현재는 유지보수조차 되지않는 버전이다.
- 18로 사용하려고 했는데, 문제가 없다면 20으로 가는게 유지보수 기간 측면에서 더 좋을것 같다.

말빨

![sample_image](https://i.pinimg.com/564x/1a/ef/6a/1aef6aaeba15e13c07608fa415995aec.jpg)

```dockerfile
FROM node:20.11.1-alpine AS base

FROM base AS deps
RUN apk update && apk add --no-cache libc6-compat
WORKDIR /usr/src/app

COPY package.json pnpm-lock.yaml* ./
RUN \
  if [ -f pnpm-lock.yaml ]; then corepack enable pnpm && pnpm i --frozen-lockfile; \
  else echo "Lockfile not found." && exit 1; \
  fi

FROM base AS builder
WORKDIR /usr/src/app
COPY . .
COPY --from=deps /usr/src/app/node_modules ./node_modules

RUN \
  if [ -f pnpm-lock.yaml ]; then corepack enable pnpm && pnpm run build; \
  else echo "Lockfile not found." && exit 1; \
  fi

FROM base AS runner
RUN corepack enable pnpm && pnpm add pm2
WORKDIR /usr/src/app

ENV NODE_ENV production

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

RUN mkdir .next
RUN chown nextjs:nodejs .next

COPY --from=builder /usr/src/app/public ./public
COPY --from=builder --chown=nextjs:nodejs /usr/src/app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /usr/src/app/.next/static ./.next/static

USER nextjs

EXPOSE 5173

ENV PORT 5173
ENV HOSTNAME "0.0.0.0"

CMD ["pm2-runtime", "start", "server.js"]
```
